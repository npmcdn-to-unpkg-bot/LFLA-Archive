var Formstone=window.Formstone=function(t,e,i){"use strict";function n(t){p.Plugins[t].initialized||(p.Plugins[t].methods._setup.call(i),p.Plugins[t].initialized=!0)}function o(t,e,i,n){var o,r={raw:{}};n=n||{};for(o in n)n.hasOwnProperty(o)&&("classes"===t?(r.raw[n[o]]=e+"-"+n[o],r[n[o]]="."+e+"-"+n[o]):(r.raw[o]=n[o],r[o]=n[o]+"."+e));for(o in i)i.hasOwnProperty(o)&&("classes"===t?(r.raw[o]=i[o].replace(/{ns}/g,e),r[o]=i[o].replace(/{ns}/g,"."+e)):(r.raw[o]=i[o].replace(/.{ns}/g,""),r[o]=i[o].replace(/{ns}/g,e)));return r}function r(){var t,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],o={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},r="transitionend",s="",a="",l=i.createElement("div");for(t in e)if(e.hasOwnProperty(t)&&t in l.style){r=e[t],p.support.transition=!0;break}g.transitionEnd=r+".{ns}";for(t in n)if(n.hasOwnProperty(t)&&n[t]in l.style){s=n[t];break}p.transition=s;for(t in o)if(o.hasOwnProperty(t)&&o[t]in l.style){p.support.transform=!0,a=o[t];break}p.transform=a}function s(){p.windowWidth=p.$window.width(),p.windowHeight=p.$window.height(),m=d.startTimer(m,y,a)}function a(){for(var t in p.ResizeHandlers)p.ResizeHandlers.hasOwnProperty(t)&&p.ResizeHandlers[t].callback.call(e,p.windowWidth,p.windowHeight)}function l(){if(p.support.raf){p.window.requestAnimationFrame(l);for(var t in p.RAFHandlers)p.RAFHandlers.hasOwnProperty(t)&&p.RAFHandlers[t].callback.call(e)}}function c(t,e){return parseInt(t.priority)-parseInt(e.priority)}var u=function(){this.Version="0.8.26",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=e,this.$window=t(e),this.document=i,this.$document=t(i),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=e.navigator.userAgent||e.navigator.vendor||e.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(e.File&&e.FileList&&e.FileReader),history:!!(e.history&&e.history.pushState&&e.history.replaceState),matchMedia:!(!e.matchMedia&&!e.msMatchMedia),pointer:!!e.PointerEvent,raf:!(!e.requestAnimationFrame||!e.cancelAnimationFrame),touch:!!("ontouchstart"in e||e.DocumentTouch&&i instanceof e.DocumentTouch),transition:!1,transform:!1}},d={killEvent:function(t,e){try{t.preventDefault(),t.stopPropagation(),e&&t.stopImmediatePropagation()}catch(i){}},startTimer:function(t,e,i,n){return d.clearTimer(t),n?setInterval(i,e):setTimeout(i,e)},clearTimer:function(t,e){t&&(e?clearInterval(t):clearTimeout(t),t=null)},sortAsc:function(t,e){return parseInt(t,10)-parseInt(e,10)},sortDesc:function(t,e){return parseInt(e,10)-parseInt(t,10)},decodeEntities:function(t){var e=p.document.createElement("textarea");return e.innerHTML=t,e.value},parseQueryString:function(t){for(var e={},i=t.slice(t.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var o=i[n].split("=");e[o[0]]=o[1]}return e}},p=new u,h=t.Deferred(),f={base:"{ns}",element:"{ns}-element"},g={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};u.prototype.NoConflict=function(){p.DontConflict=!0;for(var e in p.Plugins)p.Plugins.hasOwnProperty(e)&&(t[e]=p.Conflicts[e],t.fn[e]=p.Conflicts.fn[e])},u.prototype.Plugin=function(i,r){return p.Plugins[i]=function(i,n){function r(e){var o,r,s,l="object"===t.type(e),c=this,u=t();for(e=t.extend(!0,{},n.defaults||{},l?e:{}),r=0,s=c.length;s>r;r++)if(o=c.eq(r),!a(o)){var d="__"+n.guid++,p=n.classes.raw.base+d,h=o.data(i+"-options"),f=t.extend(!0,{$el:o,guid:d,rawGuid:p,dotGuid:"."+p},e,"object"===t.type(h)?h:{});o.addClass(n.classes.raw.element).data(v,f),n.methods._construct.apply(o,[f].concat(Array.prototype.slice.call(arguments,l?1:0))),u=u.add(o)}for(r=0,s=u.length;s>r;r++)o=u.eq(r),n.methods._postConstruct.apply(o,[a(o)]);return c}function s(){n.functions.iterate.apply(this,[n.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(n.classes.raw.element).removeData(v)}function a(t){return t.data(v)}function l(e){if(this instanceof t){var i=n.methods[e];return"object"!==t.type(e)&&e?i&&0!==e.indexOf("_")?n.functions.iterate.apply(this,[i].concat(Array.prototype.slice.call(arguments,1))):this:r.apply(this,arguments)}}function u(i){var o=n.utilities[i]||n.utilities._initialize||!1;return o?o.apply(e,Array.prototype.slice.call(arguments,"object"===t.type(i)?0:1)):void 0}function h(e){n.defaults=t.extend(!0,n.defaults,e||{})}function m(e){for(var i=this,n=0,o=i.length;o>n;n++){var r=i.eq(n),s=a(r)||{};"undefined"!==t.type(s.$el)&&e.apply(r,[s].concat(Array.prototype.slice.call(arguments,1)))}return i}var y="fs-"+i,v="fs"+i.replace(/(^|\s)([a-z])/g,function(t,e,i){return e+i.toUpperCase()});return n.initialized=!1,n.priority=n.priority||10,n.classes=o("classes",y,f,n.classes),n.events=o("events",i,g,n.events),n.functions=t.extend({getData:a,iterate:m},d,n.functions),n.methods=t.extend(!0,{_setup:t.noop,_construct:t.noop,_postConstruct:t.noop,_destruct:t.noop,_resize:!1,destroy:s},n.methods),n.utilities=t.extend(!0,{_initialize:!1,_delegate:!1,defaults:h},n.utilities),n.widget&&(p.Conflicts.fn[i]=t.fn[i],t.fn[v]=l,p.DontConflict||(t.fn[i]=t.fn[v])),p.Conflicts[i]=t[i],t[v]=n.utilities._delegate||u,p.DontConflict||(t[i]=t[v]),n.namespace=i,n.namespaceClean=v,n.guid=0,n.methods._resize&&(p.ResizeHandlers.push({namespace:i,priority:n.priority,callback:n.methods._resize}),p.ResizeHandlers.sort(c)),n.methods._raf&&(p.RAFHandlers.push({namespace:i,priority:n.priority,callback:n.methods._raf}),p.RAFHandlers.sort(c)),n}(i,r),h.then(function(){n(i)}),p.Plugins[i]};var m=null,y=20;return p.$window.on("resize.fs",s),s(),l(),t(function(){p.$body=t("body"),h.resolve(),p.support.nativeMatchMedia=p.support.matchMedia&&!t("html").hasClass("no-matchmedia")}),g.clickTouchStart=g.click+" "+g.touchStart,r(),p}(jQuery,window,document);!function(t,e){"use strict";function i(t){t.touches=[],t.touching=!1,this.on(y.dragStart,v.killEvent),t.tap?(t.pan=!1,t.scale=!1,t.swipe=!1,this.on(y.touchStart,t,r).on(y.click,t,u),e.support.touch&&e.support.pointer&&this.on(y.pointerDown,t,r)):(t.pan||t.swipe||t.scale)&&(t.tap=!1,t.swipe&&(t.pan=!0),t.scale&&(t.axis=!1),t.axis?(t.axisX="x"===t.axis,t.axisY="y"===t.axis):f(this,"none"),this.on(y.touchStart,t,o).on(y.mouseDown,t,r),e.support.touch&&e.support.pointer&&this.on(y.pointerDown,t,o))}function n(){this.off(y.namespace),f(this,"")}function o(t){t.preventManipulation&&t.preventManipulation();var e=t.data,i=t.originalEvent;if(i.type.match(/(up|end|cancel)$/i))return void c(t);if(i.pointerId){var n=!1;for(var o in e.touches)e.touches[o].id===i.pointerId&&(n=!0,e.touches[o].pageX=i.clientX,e.touches[o].pageY=i.clientY);n||e.touches.push({id:i.pointerId,pageX:i.clientX,pageY:i.clientY})}else e.touches=i.touches;i.type.match(/(down|start)$/i)?r(t):i.type.match(/move$/i)&&s(t)}function r(e){var i=e.data,n="undefined"!==t.type(i.touches)?i.touches[0]:null;if(i.touching||(i.startE=e.originalEvent,i.startX=n?n.pageX:e.pageX,i.startY=n?n.pageY:e.pageY,i.startT=(new Date).getTime(),i.scaleD=1,i.passed=!1),i.tap)i.clicked=!1,i.$el.on([y.touchMove,y.pointerMove].join(" "),i,o).on([y.touchEnd,y.touchCancel,y.pointerUp,y.pointerCancel].join(" "),i,o);else if(i.pan||i.scale){i.$links&&i.$links.off(y.click);var r=d(i.scale?y.scaleStart:y.panStart,e,i.startX,i.startY,i.scaleD,0,0,"","");if(i.scale&&i.touches&&i.touches.length>=2){var a=i.touches;i.pinch={startX:p(a[0].pageX,a[1].pageX),startY:p(a[0].pageY,a[1].pageY),startD:h(a[1].pageX-a[0].pageX,a[1].pageY-a[0].pageY)},r.pageX=i.startX=i.pinch.startX,r.pageY=i.startY=i.pinch.startY}i.touching||(i.touching=!0,i.pan&&b.on(y.mouseMove,i,s).on(y.mouseUp,i,c),b.on([y.touchMove,y.touchEnd,y.touchCancel,y.pointerMove,y.pointerUp,y.pointerCancel].join(" "),i,o),i.$el.trigger(r))}}function s(e){var i=e.data,n="undefined"!==t.type(i.touches)?i.touches[0]:null,o=n?n.pageX:e.pageX,r=n?n.pageY:e.pageY,s=o-i.startX,a=r-i.startY,l=s>0?"right":"left",u=a>0?"down":"up",f=Math.abs(s)>w,g=Math.abs(a)>w;if(i.tap)(f||g)&&i.$el.off([y.touchMove,y.touchEnd,y.touchCancel,y.pointerMove,y.pointerUp,y.pointerCancel].join(" "));else if(i.pan||i.scale)if(!i.passed&&i.axis&&(i.axisX&&g||i.axisY&&f))c(e);else{!i.passed&&(!i.axis||i.axis&&i.axisX&&f||i.axisY&&g)&&(i.passed=!0),i.passed&&(v.killEvent(e),v.killEvent(i.startE));var m=!0,b=d(i.scale?y.scale:y.pan,e,o,r,i.scaleD,s,a,l,u);if(i.scale)if(i.touches&&i.touches.length>=2){var x=i.touches;i.pinch.endX=p(x[0].pageX,x[1].pageX),i.pinch.endY=p(x[0].pageY,x[1].pageY),i.pinch.endD=h(x[1].pageX-x[0].pageX,x[1].pageY-x[0].pageY),i.scaleD=i.pinch.endD/i.pinch.startD,b.pageX=i.pinch.endX,b.pageY=i.pinch.endY,b.scale=i.scaleD,b.deltaX=i.pinch.endX-i.pinch.startX,b.deltaY=i.pinch.endY-i.pinch.startY}else i.pan||(m=!1);m&&i.$el.trigger(b)}}function a(e,i){e.on(y.click,i,l);var n=t._data(e[0],"events").click;n.unshift(n.pop())}function l(t){v.killEvent(t,!0),t.data.$links.off(y.click)}function c(e){var i=e.data;if(i.tap)i.$el.off([y.touchMove,y.touchEnd,y.touchCancel,y.pointerMove,y.pointerUp,y.pointerCancel,y.mouseMove,y.mouseUp].join(" ")),i.startE.preventDefault(),u(e);else if(i.pan||i.scale){var n="undefined"!==t.type(i.touches)?i.touches[0]:null,o=n?n.pageX:e.pageX,r=n?n.pageY:e.pageY,s=o-i.startX,l=r-i.startY,c=(new Date).getTime(),p=i.scale?y.scaleEnd:y.panEnd,h=s>0?"right":"left",f=l>0?"down":"up",g=Math.abs(s)>1,m=Math.abs(l)>1;if(i.swipe&&Math.abs(s)>w&&c-i.startT<x&&(p=y.swipe),i.axis&&(i.axisX&&m||i.axisY&&g)||g||m){i.$links=i.$el.find("a");for(var v=0,_=i.$links.length;_>v;v++)a(i.$links.eq(v),i)}var I=d(p,e,o,r,i.scaleD,s,l,h,f);b.off([y.touchMove,y.touchEnd,y.touchCancel,y.mouseMove,y.mouseUp,y.pointerMove,y.pointerUp,y.pointerCancel].join(" ")),i.$el.trigger(I),i.touches=[],i.scale}i.touching=!1}function u(t){v.killEvent(t);var e=t.data,i=t.type;if("click"===i||!e.clicked){"click"!==i&&(e.clicked=!0);var n=e.startE?e.startX:t.pageX,o=e.startE?e.startY:t.pageY,r=d(y.tap,t.originalEvent,n,o,1,0,0);e.$el.trigger(r)}}function d(e,i,n,o,r,s,a,l,c){return t.Event(e,{originalEvent:i,bubbles:!0,pageX:n,pageY:o,scale:r,deltaX:s,deltaY:a,directionX:l,directionY:c})}function p(t,e){return(t+e)/2}function h(t,e){return Math.sqrt(t*t+e*e)}function f(t,e){t.css({"-ms-touch-action":e,"touch-action":e})}var g=!e.window.PointerEvent,m=e.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,tap:!1},methods:{_construct:i,_destruct:n},events:{pointerDown:g?"MSPointerDown":"pointerdown",pointerUp:g?"MSPointerUp":"pointerup",pointerMove:g?"MSPointerMove":"pointermove",pointerCancel:g?"MSPointerCancel":"pointercancel"}}),y=m.events,v=m.functions,b=e.$window,w=10,x=50;y.tap="tap",y.pan="pan",y.panStart="panstart",y.panEnd="panend",y.scale="scale",y.scaleStart="scalestart",y.scaleEnd="scaleend",y.swipe="swipe"}(jQuery,Formstone),!function(t,e){"use strict";function i(t,i){if(i){t.$target=this.find(t.target),t.$check=t.target?t.$target:this,t.callback=i,t.styles=a(t.$check),t.timer=null;var n=t.$check.css(e.transition+"-duration"),r=parseFloat(n);e.support.transition&&n&&r?this.on(u.transitionEnd,t,o):t.timer=d.startTimer(t.timer,50,function(){s(t)},!0)}}function n(t){d.clearTimer(t.timer,!0),this.off(u.namespace)}function o(e){e.stopPropagation(),e.preventDefault();var i=e.data,n=e.originalEvent,o=i.target?i.$target:i.$el;i.property&&n.propertyName!==i.property||!t(n.target).is(o)||r(i)}function r(t){t.always||t.$el[c.namespaceClean]("destroy"),t.callback.apply(t.$el)}function s(t){var e=a(t.$check);l(t.styles,e)||r(t),t.styles=e}function a(e){var i,n,o,r={};if(e instanceof t&&(e=e[0]),p.getComputedStyle){i=p.getComputedStyle(e,null);for(var s=0,a=i.length;a>s;s++)n=i[s],o=i.getPropertyValue(n),r[n]=o}else if(e.currentStyle){i=e.currentStyle;for(n in i)i[n]&&(r[n]=i[n])}return r}function l(e,i){if(t.type(e)!==t.type(i))return!1;for(var n in e)if(!e.hasOwnProperty(n)||!i.hasOwnProperty(n)||e[n]!==i[n])return!1;return!0}var c=e.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:i,_destruct:n,resolve:r}}),u=c.events,d=c.functions,p=e.window}(jQuery,Formstone),!function(t,e){"use strict";function i(e){e=e||{};for(var i in b)b.hasOwnProperty(i)&&(d[i]=e[i]?t.merge(e[i],d[i]):d[i]);d=t.extend(d,e),d.minWidth.sort(g.sortDesc),d.maxWidth.sort(g.sortAsc),d.minHeight.sort(g.sortDesc),d.maxHeight.sort(g.sortAsc);for(var n in b)if(b.hasOwnProperty(n)){v[n]={};for(var o in d[n])if(d[n].hasOwnProperty(o)){var r=window.matchMedia("("+b[n]+": "+(d[n][o]===1/0?1e5:d[n][o])+d.unit+")");r.addListener(s),v[n][d[n][o]]=r}}s()}function n(t,e,i){var n=f.matchMedia(e),o=l(n.media);y[o]||(y[o]={mq:n,active:!0,enter:{},leave:{}},y[o].mq.addListener(a));for(var r in i)i.hasOwnProperty(r)&&y[o].hasOwnProperty(r)&&(y[o][r][t]=i[r]);a(y[o].mq)}function o(t,e){if(t)if(e){var i=l(e);y[i]&&(y[i].enter[t]&&delete y[i].enter[t],y[i].leave[t]&&delete y[i].leave[t])}else for(var n in y)y.hasOwnProperty(n)&&(y[n].enter[t]&&delete y[n].enter[t],y[n].leave[t]&&delete y[n].leave[t])}function r(){m={unit:d.unit};for(var t in b)if(b.hasOwnProperty(t))for(var i in v[t])if(v[t].hasOwnProperty(i)){var n="Infinity"===i?1/0:parseInt(i,10),o=b[t].indexOf("width")>-1?e.fallbackWidth:e.fallbackHeight,r=t.indexOf("max")>-1;e.support.nativeMatchMedia?v[t][i].matches&&(r?(!m[t]||n<m[t])&&(m[t]=n):(!m[t]||n>m[t])&&(m[t]=n)):r?!m[t]&&n>o&&(m[t]=n):(!m[t]&&0!==m[t]||n>m[t]&&o>n)&&(m[t]=n)}}function s(){r(),h.trigger(p.mqChange,[m])}function a(t){var e=l(t.media),i=y[e],n=t.matches,o=n?p.enter:p.leave;if(i&&(i.active||!i.active&&n)){for(var r in i[o])i[o].hasOwnProperty(r)&&i[o][r].apply(i.mq);i.active=!0}}function l(t){return t.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}function c(){return m}var u=e.Plugin("mediaquery",{utilities:{_initialize:i,state:c,bind:n,unbind:o},events:{mqChange:"mqchange"}}),d={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},p=t.extend(u.events,{enter:"enter",leave:"leave"}),h=e.$window,f=h[0],g=u.functions,m=null,y=[],v={},b={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}(jQuery,Formstone),!function(t,e){"use strict";function i(e){e.enabled=!1,e.active=!1,e.classes=t.extend(!0,{},p,e.classes),e.target=this.data(d+"-target"),e.$target=t(e.target).addClass(e.classes.raw.target),e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var i=this.data(d+"-linked");e.linked=i?"[data-"+d+'-linked="'+i+'"]':!1;var n=this.data(d+"-group");e.group=n?"[data-"+d+'-group="'+n+'"]':!1,e.$swaps=t().add(this).add(e.$target),this.on(h.click+e.dotGuid,e,c)}function n(e){e.collapse||!e.group||t(e.group).filter("[data-"+d+"-active]").length||t(e.group).eq(0).attr("data-"+d+"-active","true"),e.onEnable=this.data(d+"-active")||!1,t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){a.call(e.$el,e,!0)},leave:function(){l.call(e.$el,e,!0)}})}function o(e){t.fsMediaquery("unbind",e.rawGuid),e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")).off(h.namespace)}function r(e,i){if(e.enabled&&!e.active){e.group&&!i&&t(e.group).not(e.$el).not(e.linked)[u.namespaceClean]("deactivate",!0);var n=e.group?t(e.group).index(e.$el):null;e.$swaps.addClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[u.namespaceClean]("activate",!0),this.trigger(h.activate,[n]),e.active=!0}}function s(e,i){e.enabled&&e.active&&(e.$swaps.removeClass(e.classes.raw.active),i||e.linked&&t(e.linked).not(e.$el)[u.namespaceClean]("deactivate",!0),this.trigger(h.deactivate),e.active=!1)}function a(e,i){e.enabled||(e.enabled=!0,e.$swaps.addClass(e.classes.raw.enabled),i||t(e.linked).not(e.$el)[u.namespaceClean]("enable"),this.trigger(h.enable),e.onEnable?(e.active=!1,r.call(this,e)):(e.active=!0,s.call(this,e)))}function l(e,i){e.enabled&&(e.enabled=!1,e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")),i||t(e.linked).not(e.$el)[u.namespaceClean]("disable"),this.trigger(h.disable))}function c(t){f.killEvent(t);var e=t.data;e.active&&e.collapse?s.call(e.$el,e):r.call(e.$el,e)}var u=e.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:i,_postConstruct:n,_destruct:o,activate:r,deactivate:s,enable:a,disable:l}}),d=u.namespace,p=u.classes,h=u.events,f=u.functions}(jQuery,Formstone),!function(t,e,i){"use strict";function n(){Q=e.$body,G=t("html, body")}function o(){Z&&c()}function r(t){this.on(V.click,t,l)}function s(){u(),this.off(V.namespace)}function a(e,i){e instanceof t&&l.apply(B,[{data:t.extend(!0,{},{$object:e},A,i||{})}])}function l(i){if(!Z){var n=i.data,o=n.$el,r=n.$object,s=o&&o[0].href?o[0].href||"":"",a=o&&o[0].hash?o[0].hash||"":"",l=(s.toLowerCase().split(".").pop().split(/\#|\?/),o?o.data(D+"-type"):""),c="image"===l||s.match(n.fileTypes)||"data:image"===s.substr(0,10),d=Y(s),p="url"===l||!c&&!d&&"http"===s.substr(0,4)&&!a,f="element"===l||!c&&!d&&!p&&"#"===a.substr(0,1),m="undefined"!=typeof r;if(f&&(s=a),!(c||d||p||f||m))return;if(N.killEvent(i),Z=t.extend({},{visible:!1,gallery:{active:!1},isMobile:e.isMobile||n.mobile,isTouch:e.support.touch,isAnimating:!0,oldContentHeight:0,oldContentWidth:0},n),Z.touch=n.touch&&Z.isMobile&&Z.isTouch,Z.margin*=2,Z.type=c?"image":d?"video":"element",c||d){var y=o.data(D+"-gallery");y&&(Z.gallery.active=!0,Z.gallery.id=y,Z.gallery.$items=t("a[data-lightbox-gallery= "+Z.gallery.id+"], a[rel= "+Z.gallery.id+"]"),Z.gallery.index=Z.gallery.$items.index(Z.$el),Z.gallery.total=Z.gallery.$items.length-1)}var b="";Z.isMobile||(b+='<div class="'+[X.raw.overlay,Z.customClass].join(" ")+'"></div>');var w=[X.raw.base,X.raw.loading,X.raw.animating,Z.customClass];Z.fixed&&w.push(X.raw.fixed),Z.isMobile&&w.push(X.raw.mobile),Z.isTouch&&w.push(X.raw.touch),p&&w.push(X.raw.iframed),(f||m)&&w.push(X.raw.inline),b+='<div class="'+w.join(" ")+'">',b+='<button type="button" class="'+X.raw.close+'">'+Z.labels.close+"</button>",b+='<span class="'+X.raw.loading_icon+'"></span>',b+='<div class="'+X.raw.container+'">',b+='<div class="'+X.raw.content+'">',(c||d)&&(b+='<div class="'+X.raw.tools+'">',b+='<div class="'+X.raw.controls+'">',Z.gallery.active&&(b+='<button type="button" class="'+[X.raw.control,X.raw.control_previous].join(" ")+'">'+Z.labels.previous+"</button>",b+='<button type="button" class="'+[X.raw.control,X.raw.control_next].join(" ")+'">'+Z.labels.next+"</button>"),Z.isMobile&&Z.isTouch&&(b+='<button type="button" class="'+[X.raw.caption_toggle].join(" ")+'">'+Z.labels.captionClosed+"</button>"),b+="</div>",b+='<div class="'+X.raw.meta+'">',Z.gallery.active&&(b+='<p class="'+X.raw.position+'"',Z.gallery.total<1&&(b+=' style="display: none;"'),b+=">",b+='<span class="'+X.raw.position_current+'">'+(Z.gallery.index+1)+"</span> ",b+=Z.labels.count,b+=' <span class="'+X.raw.position_total+'">'+(Z.gallery.total+1)+"</span>",b+="</p>"),b+='<div class="'+X.raw.caption+'">',b+=Z.formatter.call(o,n),b+="</div></div>",b+="</div>"),b+="</div></div></div>",Q.append(b),Z.$overlay=t(X.overlay),Z.$lightbox=t(X.base),Z.$close=t(X.close),Z.$container=t(X.container),Z.$content=t(X.content),Z.$tools=t(X.tools),Z.$meta=t(X.meta),Z.$position=t(X.position),Z.$caption=t(X.caption),Z.$controlBox=t(X.controls),Z.$controls=t(X.control),Z.isMobile?(Z.paddingVertical=Z.$close.outerHeight(),Z.paddingHorizontal=0,Z.mobilePaddingVertical=parseInt(Z.$content.css("paddingTop"),10)+parseInt(Z.$content.css("paddingBottom"),10),Z.mobilePaddingHorizontal=parseInt(Z.$content.css("paddingLeft"),10)+parseInt(Z.$content.css("paddingRight"),10)):(Z.paddingVertical=parseInt(Z.$lightbox.css("paddingTop"),10)+parseInt(Z.$lightbox.css("paddingBottom"),10),Z.paddingHorizontal=parseInt(Z.$lightbox.css("paddingLeft"),10)+parseInt(Z.$lightbox.css("paddingRight"),10),Z.mobilePaddingVertical=0,Z.mobilePaddingHorizontal=0),Z.contentHeight=Z.$lightbox.outerHeight()-Z.paddingVertical,Z.contentWidth=Z.$lightbox.outerWidth()-Z.paddingHorizontal,Z.controlHeight=Z.$controls.outerHeight(),h(),Z.gallery.active&&(Z.$lightbox.addClass(F.has_controls),M()),U.on(V.keyDown,k),Q.on(V.click,[X.overlay,X.close].join(", "),u),Z.gallery.active&&Z.$lightbox.on(V.click,X.control,E),Z.isMobile&&Z.isTouch&&Z.$lightbox.on(V.click,X.caption_toggle,g),Z.$lightbox.fsTransition({property:"opacity"},function(){c?v(s):d?W(s):p?S(s):f?P(s):m&&O(Z.$object)}).addClass(X.raw.open),Z.$overlay.addClass(X.raw.open)}}function c(t){"object"!=typeof t&&(Z.targetHeight=arguments[0],Z.targetWidth=arguments[1]),"element"===Z.type?L(Z.$content.find("> :first-child")):"image"===Z.type?H():"video"===Z.type&&z(),p()}function u(t){N.killEvent(t),Z&&(Z.$lightbox.fsTransition("destroy"),Z.$container.fsTransition("destroy"),b(),Z.$lightbox.addClass(X.raw.animating).fsTransition({property:"opacity"},function(){Z.$lightbox.off(V.namespace),Z.$container.off(V.namespace),U.off(V.namespace),Q.off(V.namespace),Z.$overlay.remove(),Z.$lightbox.remove(),Z=null,U.trigger(V.close)}),Z.$lightbox.removeClass(X.raw.open),Z.$overlay.removeClass(X.raw.open),Z.isMobile&&G.removeClass(F.lock))}function d(){var t=f();Z.isMobile?0:Z.duration,Z.isMobile||Z.$controls.css({marginTop:(Z.contentHeight-Z.controlHeight-Z.metaHeight)/2}),Z.$lightbox.fsTransition({property:Z.contentHeight!==Z.oldContentHeight?"height":"width"},function(){Z.$container.fsTransition({property:"opacity"},function(){Z.$lightbox.removeClass(X.raw.animating),Z.isAnimating=!1}),Z.$lightbox.removeClass(X.raw.loading),Z.visible=!0,U.trigger(V.open),Z.gallery.active&&T()}),Z.isMobile||Z.$lightbox.css({height:Z.contentHeight+Z.paddingVertical,width:Z.contentWidth+Z.paddingHorizontal,top:Z.fixed?0:t.top});var e=Z.oldContentHeight!==Z.contentHeight||Z.oldContentWidth!==Z.contentWidth;(Z.isMobile||!e)&&Z.$lightbox.fsTransition("resolve"),Z.oldContentHeight=Z.contentHeight,Z.oldContentWidth=Z.contentWidth,Z.isMobile&&G.addClass(F.lock)}function p(){if(Z.visible&&!Z.isMobile){var t=f();Z.$controls.css({marginTop:(Z.contentHeight-Z.controlHeight-Z.metaHeight)/2}),Z.$lightbox.css({height:Z.contentHeight+Z.paddingVertical,width:Z.contentWidth+Z.paddingHorizontal,top:Z.fixed?0:t.top})}}function h(){var t=f();Z.$lightbox.css({top:Z.fixed?0:t.top})}function f(){if(Z.isMobile)return{left:0,top:0};var t={left:(e.windowWidth-Z.contentWidth-Z.paddingHorizontal)/2,top:Z.top<=0?(e.windowHeight-Z.contentHeight-Z.paddingVertical)/2:Z.top};return Z.fixed!==!0&&(t.top+=U.scrollTop()),t}function g(t){N.killEvent(t),Z.captionOpen?m():(Z.$lightbox.addClass(X.raw.caption_open).find(X.caption_toggle).text(Z.labels.captionOpen),Z.captionOpen=!0)}function m(){Z.$lightbox.removeClass(X.raw.caption_open).find(X.caption_toggle).text(Z.labels.captionClosed),Z.captionOpen=!1}function y(){var t=this.attr("title"),e=t!==i&&t?t.replace(/^\s+|\s+$/g,""):!1;return e?'<p class="caption">'+e+"</p>":""}function v(e){Z.hasScaled=!1,Z.$imageContainer=t('<div class="'+X.raw.image_container+'"><img></div>'),Z.$image=Z.$imageContainer.find("img"),Z.$image.one(V.load,function(){var t=q(Z.$image);Z.naturalHeight=t.naturalHeight,Z.naturalWidth=t.naturalWidth,Z.retina&&(Z.naturalHeight/=2,Z.naturalWidth/=2),Z.$content.prepend(Z.$imageContainer),""===Z.$caption.html()?(Z.$caption.hide(),Z.$lightbox.removeClass(F.has_caption)):(Z.$caption.show(),Z.$lightbox.addClass(F.has_caption)),H(),d(),Z.touch&&(w(),_({scale:1,deltaX:0,deltaY:0}),I(),Z.$container.fsTouch({pan:!0,scale:!0}).on(V.scaleStart,x).on(V.scaleEnd,I).on(V.scale,_))}).error(j).attr("src",e).addClass(X.raw.image),(Z.$image[0].complete||4===Z.$image[0].readyState)&&Z.$image.trigger(V.load)}function b(){Z.$image&&Z.$image.length&&Z.$container.fsTouch("destroy")}function w(){Z.scalePosition=Z.$imageContainer.position(),Z.scaleY=Z.scalePosition.top,Z.scaleX=Z.scalePosition.left,Z.scaleHeight=Z.$image.outerHeight(),Z.scaleWidth=Z.$image.outerWidth()}function x(){w(),Z.$lightbox.removeClass(X.raw.animating)}function _(t){Z.targetContainerY=Z.scaleY+t.deltaY,Z.targetContainerX=Z.scaleX+t.deltaX,Z.targetImageHeight=Z.scaleHeight*t.scale,Z.targetImageWidth=Z.scaleWidth*t.scale,Z.targetImageHeight<Z.scaleMinHeight&&(Z.targetImageHeight=Z.scaleMinHeight),Z.targetImageHeight>Z.scaleMaxHeight&&(Z.targetImageHeight=Z.scaleMaxHeight),Z.targetImageWidth<Z.scaleMinWidth&&(Z.targetImageWidth=Z.scaleMinWidth),Z.targetImageWidth>Z.scaleMaxWidth&&(Z.targetImageWidth=Z.scaleMaxWidth),Z.hasScaled=!0,Z.isScaling=!0,Z.$imageContainer.css({top:Z.targetContainerY,left:Z.targetContainerX}),Z.$image.css({height:Z.targetImageHeight,width:Z.targetImageWidth,top:-(Z.targetImageHeight/2),left:-(Z.targetImageWidth/2)})}function I(){w(),Z.isScaling=!1;var t=Z.$container.outerHeight()-Z.metaHeight,e=Z.$container.outerWidth();Z.scaleMinY=t-Z.scaleHeight/2,Z.scaleMinX=e-Z.scaleWidth/2,Z.scaleMaxY=Z.scaleHeight/2,Z.scaleMaxX=Z.scaleWidth/2,Z.scaleHeight<t?Z.scalePosition.top=t/2:(Z.scalePosition.top<Z.scaleMinY&&(Z.scalePosition.top=Z.scaleMinY),Z.scalePosition.top>Z.scaleMaxY&&(Z.scalePosition.top=Z.scaleMaxY)),Z.scaleWidth<e?Z.scalePosition.left=e/2:(Z.scalePosition.left<Z.scaleMinX&&(Z.scalePosition.left=Z.scaleMinX),Z.scalePosition.left>Z.scaleMaxX&&(Z.scalePosition.left=Z.scaleMaxX)),Z.$lightbox.addClass(X.raw.animating),Z.$imageContainer.css({left:Z.scalePosition.left,top:Z.scalePosition.top})}function H(){var t=0;for(Z.windowHeight=Z.viewportHeight=e.windowHeight-Z.mobilePaddingVertical-Z.paddingVertical,Z.windowWidth=Z.viewportWidth=e.windowWidth-Z.mobilePaddingHorizontal-Z.paddingHorizontal,Z.contentHeight=1/0,Z.contentWidth=1/0,Z.imageMarginTop=0,Z.imageMarginLeft=0;Z.contentHeight>Z.viewportHeight&&2>t;)Z.imageHeight=0===t?Z.naturalHeight:Z.$image.outerHeight(),Z.imageWidth=0===t?Z.naturalWidth:Z.$image.outerWidth(),Z.metaHeight=0===t?0:Z.metaHeight,Z.spacerHeight=0===t?0:Z.spacerHeight,0===t&&(Z.ratioHorizontal=Z.imageHeight/Z.imageWidth,Z.ratioVertical=Z.imageWidth/Z.imageHeight,Z.isWide=Z.imageWidth>Z.imageHeight),Z.imageHeight<Z.minHeight&&(Z.minHeight=Z.imageHeight),Z.imageWidth<Z.minWidth&&(Z.minWidth=Z.imageWidth),Z.isMobile?(Z.isTouch?(Z.$controlBox.css({width:e.windowWidth}),Z.spacerHeight=Z.$controls.outerHeight(!0)):(Z.$tools.css({width:e.windowWidth}),Z.spacerHeight=Z.$tools.outerHeight(!0)),Z.contentHeight=Z.viewportHeight,Z.contentWidth=Z.viewportWidth,C(),Z.imageMarginTop=(Z.contentHeight-Z.targetImageHeight-Z.spacerHeight)/2,Z.imageMarginLeft=(Z.contentWidth-Z.targetImageWidth)/2):(0===t&&(Z.viewportHeight-=Z.margin+Z.paddingVertical,Z.viewportWidth-=Z.margin+Z.paddingHorizontal),Z.viewportHeight-=Z.metaHeight,C(),Z.contentHeight=Z.targetImageHeight,Z.contentWidth=Z.targetImageWidth),Z.isMobile||Z.isTouch||Z.$meta.css({width:Z.contentWidth}),Z.hasScaled||(Z.$image.css({height:Z.targetImageHeight,width:Z.targetImageWidth}),Z.$image.css(Z.touch?{top:-(Z.targetImageHeight/2),left:-(Z.targetImageWidth/2)}:{marginTop:Z.imageMarginTop,marginLeft:Z.imageMarginLeft})),Z.isMobile||(Z.metaHeight=Z.$meta.outerHeight(!0),Z.contentHeight+=Z.metaHeight),t++;Z.touch&&(Z.scaleMinHeight=Z.targetImageHeight,Z.scaleMinWidth=Z.targetImageWidth,Z.scaleMaxHeight=Z.naturalHeight,Z.scaleMaxWidth=Z.naturalWidth)}function C(){var t=Z.isMobile?Z.contentHeight-Z.spacerHeight:Z.viewportHeight,e=Z.isMobile?Z.contentWidth:Z.viewportWidth;Z.isWide?(Z.targetImageWidth=e,Z.targetImageHeight=Z.targetImageWidth*Z.ratioHorizontal,Z.targetImageHeight>t&&(Z.targetImageHeight=t,Z.targetImageWidth=Z.targetImageHeight*Z.ratioVertical)):(Z.targetImageHeight=t,Z.targetImageWidth=Z.targetImageHeight*Z.ratioVertical,Z.targetImageWidth>e&&(Z.targetImageWidth=e,Z.targetImageHeight=Z.targetImageWidth*Z.ratioHorizontal)),(Z.targetImageWidth>Z.imageWidth||Z.targetImageHeight>Z.imageHeight)&&(Z.targetImageHeight=Z.imageHeight,Z.targetImageWidth=Z.imageWidth),(Z.targetImageWidth<Z.minWidth||Z.targetImageHeight<Z.minHeight)&&(Z.targetImageWidth<Z.minWidth?(Z.targetImageWidth=Z.minWidth,Z.targetImageHeight=Z.targetImageWidth*Z.ratioHorizontal):(Z.targetImageHeight=Z.minHeight,Z.targetImageWidth=Z.targetImageHeight*Z.ratioVertical))}function W(e){var i=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i),n=e.match(/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/),o=e.split("?"),r=null!==i?"//www.youtube.com/embed/"+i[1]:"//player.vimeo.com/video/"+n[3];o.length>=2&&(r+="?"+o.slice(1)[0].trim()),Z.$videoWrapper=t('<div class="'+X.raw.video_wrapper+'"></div>'),Z.$video=t('<iframe class="'+X.raw.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),Z.$video.attr("src",r).addClass(X.raw.video).prependTo(Z.$videoWrapper),Z.$content.prepend(Z.$videoWrapper),z(),d()}function z(){Z.windowHeight=Z.viewportHeight=e.windowHeight-Z.mobilePaddingVertical-Z.paddingVertical,Z.windowWidth=Z.viewportWidth=e.windowWidth-Z.mobilePaddingHorizontal-Z.paddingHorizontal,Z.videoMarginTop=0,Z.videoMarginLeft=0,Z.isMobile?(Z.isTouch?(Z.$controlBox.css({width:e.windowWidth}),Z.spacerHeight=Z.$controls.outerHeight(!0)):(Z.$tools.css({width:e.windowWidth}),Z.spacerHeight=Z.$tools.outerHeight(!0)),Z.viewportHeight-=Z.spacerHeight,Z.targetVideoWidth=Z.viewportWidth,Z.targetVideoHeight=Z.targetVideoWidth*Z.videoRatio,Z.targetVideoHeight>Z.viewportHeight&&(Z.targetVideoHeight=Z.viewportHeight,Z.targetVideoWidth=Z.targetVideoHeight/Z.videoRatio),Z.videoMarginTop=(Z.viewportHeight-Z.targetVideoHeight)/2,Z.videoMarginLeft=(Z.viewportWidth-Z.targetVideoWidth)/2):(Z.viewportHeight=Z.windowHeight-Z.margin,Z.viewportWidth=Z.windowWidth-Z.margin,Z.targetVideoWidth=Z.videoWidth>Z.viewportWidth?Z.viewportWidth:Z.videoWidth,Z.targetVideoWidth<Z.minWidth&&(Z.targetVideoWidth=Z.minWidth),Z.targetVideoHeight=Z.targetVideoWidth*Z.videoRatio,Z.contentHeight=Z.targetVideoHeight,Z.contentWidth=Z.targetVideoWidth),Z.isMobile||Z.isTouch||Z.$meta.css({width:Z.contentWidth}),Z.$videoWrapper.css({height:Z.targetVideoHeight,width:Z.targetVideoWidth,marginTop:Z.videoMarginTop,marginLeft:Z.videoMarginLeft}),Z.isMobile||(Z.metaHeight=Z.$meta.outerHeight(!0),Z.contentHeight=Z.targetVideoHeight+Z.metaHeight)}function T(){var e="";Z.gallery.index>0&&(e=Z.gallery.$items.eq(Z.gallery.index-1).attr("href"),Y(e)||t('<img src="'+e+'">')),Z.gallery.index<Z.gallery.total&&(e=Z.gallery.$items.eq(Z.gallery.index+1).attr("href"),Y(e)||t('<img src="'+e+'">'))}function E(e){N.killEvent(e);var i=t(e.currentTarget);Z.isAnimating||i.hasClass(X.raw.control_disabled)||(Z.isAnimating=!0,
b(),m(),Z.gallery.index+=i.hasClass(X.raw.control_next)?1:-1,Z.gallery.index>Z.gallery.total&&(Z.gallery.index=Z.infinite?0:Z.gallery.total),Z.gallery.index<0&&(Z.gallery.index=Z.infinite?Z.gallery.total:0),Z.$lightbox.addClass(X.raw.animating),Z.$container.fsTransition({property:"opacity"},function(){"undefined"!=typeof Z.$image&&Z.$image.remove(),"undefined"!=typeof Z.$videoWrapper&&Z.$videoWrapper.remove(),Z.$el=Z.gallery.$items.eq(Z.gallery.index),Z.$caption.html(Z.formatter.call(Z.$el,Z)),Z.$position.find(X.position_current).html(Z.gallery.index+1);var t=Z.$el.attr("href"),e=Y(t);e?W(t):v(t),M()}),Z.$lightbox.addClass(X.raw.loading))}function M(){Z.$controls.removeClass(X.raw.control_disabled),Z.infinite||(0===Z.gallery.index&&Z.$controls.filter(X.control_previous).addClass(F.control_disabled),Z.gallery.index===Z.gallery.total&&Z.$controls.filter(X.control_next).addClass(F.control_disabled))}function k(t){!Z.gallery.active||37!==t.keyCode&&39!==t.keyCode?27===t.keyCode&&Z.$close.trigger(V.click):(N.killEvent(t),Z.$controls.filter(37===t.keyCode?X.control_previous:X.control_next).trigger(V.click))}function P(e){var i=t(e).find("> :first-child").clone();O(i)}function S(e){e+=e.indexOf("?")>-1?"&"+Z.requestKey+"=true":"?"+Z.requestKey+"=true";var i=t('<iframe class="'+X.raw.iframe+'" src="'+e+'"></iframe>');O(i)}function O(t){Z.$content.append(t),L(t),d()}function L(t){Z.windowHeight=e.windowHeight-Z.mobilePaddingVertical-Z.paddingVertical,Z.windowWidth=e.windowWidth-Z.mobilePaddingHorizontal-Z.paddingHorizontal,Z.objectHeight=t.outerHeight(!0),Z.objectWidth=t.outerWidth(!0),Z.targetHeight=Z.targetHeight||(Z.$el?Z.$el.data(D+"-height"):null),Z.targetWidth=Z.targetWidth||(Z.$el?Z.$el.data(D+"-width"):null),Z.maxHeight=Z.windowHeight<0?Z.minHeight:Z.windowHeight,Z.isIframe=t.is("iframe"),Z.objectMarginTop=0,Z.objectMarginLeft=0,Z.isMobile||(Z.windowHeight-=Z.margin,Z.windowWidth-=Z.margin),Z.contentHeight=Z.targetHeight?Z.targetHeight:Z.isIframe||Z.isMobile?Z.windowHeight:Z.objectHeight,Z.contentWidth=Z.targetWidth?Z.targetWidth:Z.isIframe||Z.isMobile?Z.windowWidth:Z.objectWidth,(Z.isIframe||Z.isObject)&&Z.isMobile?(Z.contentHeight=Z.windowHeight,Z.contentWidth=Z.windowWidth):Z.isObject&&(Z.contentHeight=Z.contentHeight>Z.windowHeight?Z.windowHeight:Z.contentHeight,Z.contentWidth=Z.contentWidth>Z.windowWidth?Z.windowWidth:Z.contentWidth)}function j(){var e=t('<div class="'+X.raw.error+'"><p>Error Loading Resource</p></div>');Z.type="element",Z.$tools.remove(),Z.$image.off(V.namespace),O(e)}function q(t){var e=t[0],i=new Image;return"undefined"!=typeof e.naturalHeight?{naturalHeight:e.naturalHeight,naturalWidth:e.naturalWidth}:"img"===e.tagName.toLowerCase()?(i.src=e.src,{naturalHeight:i.height,naturalWidth:i.width}):!1}function Y(t){return t.indexOf("youtube.com")>-1||t.indexOf("youtu.be")>-1||t.indexOf("vimeo.com")>-1}var R=e.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:y,infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption"},margin:50,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",top:0,touch:!0,videoRatio:.5625,videoWidth:800},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","caption_toggle","caption","caption_open","has_controls","has_caption","iframe","error","lock"],events:{open:"open",close:"close"},methods:{_setup:n,_construct:r,_destruct:s,_resize:o,resize:c},utilities:{_initialize:a,close:u}}),D=R.namespace,A=R.defaults,X=R.classes,F=X.raw,V=R.events,N=R.functions,B=e.window,U=e.$window,Q=null,G=null,Z=null}(jQuery,Formstone),!function(t,e){"use strict";function i(e){var i=this.closest("label"),n=i.length?i.eq(0):t("label[for="+this.attr("id")+"]"),o=[g.base,e.customClass].join(" "),r="";e.radio="radio"===this.attr("type"),e.group=this.attr("name"),r+='<div class="'+g.marker+'">',r+='<div class="'+g.flag+'"></div>',e.toggle&&(o+=" "+g.toggle,r+='<span class="'+[g.state,g.state_on].join(" ")+'">'+e.labels.on+"</span>",r+='<span class="'+[g.state,g.state_off].join(" ")+'">'+e.labels.off+"</span>"),e.radio&&(o+=" "+g.radio),r+="</div>",n.length?n.addClass(g.label).wrap('<div class="'+o+'"></div>').before(r):this.before('<div class=" '+o+'">'+r+"</div>"),e.$checkbox=n.length?n.parents(f.base):this.prev(f.base),e.$marker=e.$checkbox.find(f.marker),e.$states=e.$checkbox.find(f.state),e.$label=n,this.is(":checked")&&e.$checkbox.addClass(g.checked),this.is(":disabled")&&e.$checkbox.addClass(g.disabled),this.wrap('<div class="'+g.element_wrapper+'"></div>'),this.on(m.focus,e,d).on(m.blur,e,p).on(m.change,e,l).on(m.click,e,a).on(m.deselect,e,u),e.$checkbox.on(m.click,e,a)}function n(t){t.$checkbox.off(m.namespace),t.$marker.remove(),t.$states.remove(),t.$label.unwrap().removeClass(g.label),this.unwrap().off(m.namespace)}function o(t){this.prop("disabled",!1),t.$checkbox.removeClass(g.disabled)}function r(t){this.prop("disabled",!0),t.$checkbox.addClass(g.disabled)}function s(t){var e=t.$el.is(":disabled"),i=t.$el.is(":checked");e||(i?c({data:t}):u({data:t}))}function a(e){e.stopPropagation();var i=e.data;t(e.target).is(i.$el)||(e.preventDefault(),i.$el.trigger("click"))}function l(t){var e=t.data,i=e.$el.is(":disabled"),n=e.$el.is(":checked");i||(e.radio?c(t):n?c(t):u(t))}function c(e){e.data.radio&&t('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect"),e.data.$checkbox.addClass(g.checked)}function u(t){t.data.$checkbox.removeClass(g.checked)}function d(t){t.data.$checkbox.addClass(g.focus)}function p(t){t.data.$checkbox.removeClass(g.focus)}var h=e.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"}},classes:["element_wrapper","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:i,_destruct:n,enable:o,disable:r,update:s},events:{deselect:"deselect"}}),f=h.classes,g=f.raw,m=h.events;h.functions}(jQuery,Formstone),!function(t,e){"use strict";function i(){L.iterate.call(j,l)}function n(){j=t(P.base)}function o(i){var o,r=[S.base,i.customClass,i.rtl?S.rtl:S.ltr];i.maxWidth=i.maxWidth===1/0?"100000px":i.maxWidth,i.mq="(min-width:"+i.minWidth+") and (max-width:"+i.maxWidth+")",i.customControls="object"===t.type(i.controls)&&i.controls.previous&&i.controls.next,e.support.transform||(i.useMargin=!0);var l="",u="",d=[S.control,S.control_previous].join(" "),p=[S.control,S.control_next].join(" ");if(i.controls&&!i.customControls&&(l+='<div class="'+S.controls+'">',l+='<button type="button" class="'+d+'">'+i.labels.previous+"</button>",l+='<button type="button" class="'+p+'">'+i.labels.next+"</button>",l+="</div>"),i.pagination&&(u+='<div class="'+S.pagination+'">',u+="</div>"),i.autoHeight&&r.push(S.auto_height),i.contained&&r.push(S.contained),i.single&&r.push(S.single),this.addClass(r.join(" ")).wrapInner('<div class="'+S.wrapper+'"><div class="'+S.container+'"><div class="'+S.canister+'"></div></div></div>').append(l).wrapInner('<div class="'+S.viewport+'"></div>').append(u),i.$viewport=this.find(P.viewport).eq(0),i.$container=this.find(P.container).eq(0),i.$canister=this.find(P.canister).eq(0),i.$pagination=this.find(P.pagination).eq(0),i.$paginationItems=i.$pagination.find(P.page),i.$controlPrevious=i.$controlNext=t(""),i.customControls?(i.$controls=t(i.controls.container).addClass([S.controls,S.controls_custom].join(" ")),i.$controlPrevious=t(i.controls.previous).addClass(d),i.$controlNext=t(i.controls.next).addClass(p)):(i.$controls=this.find(P.controls).eq(0),i.$controlPrevious=i.$controls.find(P.control_previous),i.$controlNext=i.$controls.find(P.control_next)),i.$controlItems=i.$controlPrevious.add(i.$controlNext),i.index=0,i.enabled=!1,i.leftPosition=0,i.autoTimer=null,i.resizeTimer=null,"object"===t.type(i.show)){var h=i.show,f=[],g=[];for(o in h)h.hasOwnProperty(o)&&g.push(o);g.sort(L.sortAsc);for(o in g)g.hasOwnProperty(o)&&f.push({width:parseInt(g[o]),count:h[g[o]],mq:window.matchMedia("(min-width: "+parseInt(g[o])+"px)")});i.show=f}c(i),t.fsMediaquery("bind",i.rawGuid,i.mq,{enter:function(){a.call(i.$el,i)},leave:function(){s.call(i.$el,i)}}),n()}function r(e){L.clearTimer(e.autoTimer),L.startTimer(e.resizeTimer),s.call(this,e),t.fsMediaquery("unbind",e.rawGuid),e.$controlItems.removeClass([P.control,S.control_previous,P.control_next,P.visible].join(" ")).off(O.namespace),e.$images.off(O.namespace),e.$canister.fsTouch("destroy"),e.$items.removeClass([S.item,S.visible,P.item_previous,P.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),e.pagination&&e.$pagination.remove(),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&e.$controls.removeClass([S.controls,S.controls_custom,S.visible].join(" ")),this.removeClass([S.base,S.ltr,S.rtl,S.enabled,S.animated,S.contained,S.single,S.auto_height,S.customClass].join(" ")),n()}function s(t){t.enabled&&(L.clearTimer(t.autoTimer),t.enabled=!1,this.removeClass([S.enabled,S.animated].join(" ")).off(O.namespace),t.$canister.fsTouch("destroy").off(O.namespace).attr("style","").css(Y,"none"),t.$items.css({width:"",height:""}).removeClass([S.visible,P.item_previous,P.item_next].join(" ")),t.$images.off(O.namespace),t.$controlItems.off(O.namespace),t.$pagination.html(""),w(t),t.useMargin?t.$canister.css({marginLeft:""}):t.$canister.css(q,""),t.index=0)}function a(t){t.enabled||(t.enabled=!0,this.addClass(S.enabled).on(O.click,P.page,t,v),t.$controlItems.on(O.click,t,y),t.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(O.panStart,t,H).on(O.pan,t,C).on(O.panEnd,t,W).on(O.swipe,t,z).css(Y,""),c(t),t.$images.on(O.load,t,g),t.autoAdvance&&(t.autoTimer=L.startTimer(t.autoTimer,t.autoTime,function(){m(t)},!0)),l.call(this,t))}function l(t){if(t.enabled){var e,i,n,o,r,s,a,l;if(t.count=t.$items.length,t.count<1)return w(t),void t.$canister.css({height:""});for(this.removeClass(S.animated),t.containerWidth=t.$container.outerWidth(!1),t.visible=I(t),t.perPage=t.paged?1:t.visible,t.itemMargin=parseInt(t.$items.eq(0).css("marginRight"))+parseInt(t.$items.eq(0).css("marginLeft")),isNaN(t.itemMargin)&&(t.itemMargin=0),t.itemWidth=(t.containerWidth-t.itemMargin*(t.visible-1))/t.visible,t.itemHeight=0,t.pageWidth=t.paged?t.itemWidth:t.containerWidth,t.pageCount=Math.ceil(t.count/t.perPage),t.canisterWidth=(t.pageWidth+t.itemMargin)*t.pageCount,t.$canister.css({width:t.canisterWidth,height:""}),t.$items.css({width:t.itemWidth,height:""}).removeClass([S.visible,S.item_previous,S.item_next].join(" ")),t.pages=[],i=0,n=0;i<t.count;i+=t.perPage){for(r=t.$items.slice(i,i+t.perPage),a=0,r.length<t.perPage&&(r=0===i?t.$items:t.$items.slice(t.$items.length-t.perPage)),s=r.eq(t.rtl?r.length-1:0),l=s.position().left,o=0;o<r.length;o++)e=r.eq(o).outerHeight(),e>a&&(a=e);t.pages.push({left:t.rtl?l-(t.canisterWidth-t.pageWidth-t.itemMargin):l,height:a,$items:r}),a>t.itemHeight&&(t.itemHeight=a),n++}t.paged&&(t.pageCount-=t.count%t.visible),t.pageCount<=0&&(t.pageCount=1),t.maxMove=-t.pages[t.pageCount-1].left,t.autoHeight?t.$canister.css({height:t.pages[0].height}):t.matchHeight&&t.$items.css({height:t.itemHeight});var c="";for(i=0;i<t.pageCount;i++)c+='<button type="button" class="'+S.page+'">'+(i+1)+"</button>";t.$pagination.html(c),t.pageCount<=1?w(t):x(t),t.$paginationItems=t.$el.find(P.page),b(t,t.index,!1),setTimeout(function(){t.$el.addClass(S.animated)},5)}}function c(t){t.$items=t.$canister.children().not(":hidden").addClass(S.item),t.$images=t.$canister.find("img"),t.totalImages=t.$images.length}function u(t){t.enabled&&d.call(this,t,!1)}function d(t,e){t.$images.off(O.namespace),e!==!1&&t.$canister.html(e),t.index=0,c(t),l.call(this,t)}function p(t,e,i){t.enabled&&(L.clearTimer(t.autoTimer),b(t,e-1,!0,i))}function h(t){var e=t.index-1;t.infinite&&0>e&&(e=t.pageCount-1),b(t,e)}function f(t){var e=t.index+1;t.infinite&&e>=t.pageCount&&(e=0),b(t,e)}function g(t){var e=t.data;e.resizeTimer=L.startTimer(e.resizeTimer,20,function(){l.call(e.$el,e)})}function m(t){var e=t.index+1;e>=t.pageCount&&(e=0),b(t,e)}function y(e){L.killEvent(e);var i=e.data,n=i.index+(t(e.currentTarget).hasClass(S.control_next)?1:-1);L.clearTimer(i.autoTimer),b(i,n)}function v(e){L.killEvent(e);var i=e.data,n=i.$paginationItems.index(t(e.currentTarget));L.clearTimer(i.autoTimer),b(i,n)}function b(t,e,i,n){if(0>e&&(e=t.infinite?t.pageCount-1:0),e>=t.pageCount&&(e=t.infinite?0:t.pageCount-1),!(t.count<1)){t.pages[e]&&(t.leftPosition=-t.pages[e].left),t.leftPosition=E(t,t.leftPosition),t.useMargin?t.$canister.css({marginLeft:t.leftPosition}):i===!1?(t.$canister.css(Y,"none").css(q,"translateX("+t.leftPosition+"px)"),setTimeout(function(){t.$canister.css(Y,"")},5)):t.$canister.css(q,"translateX("+t.leftPosition+"px)"),t.$items.removeClass([S.visible,S.item_previous,S.item_next].join(" "));for(var o=0,r=t.pages.length;r>o;o++)o===e?t.pages[o].$items.addClass(S.visible):t.pages[o].$items.not(t.pages[e].$items).addClass(e>o?S.item_previous:S.item_next);t.autoHeight&&t.$canister.css({height:t.pages[e].height}),i!==!1&&n!==!0&&e!==t.index&&(t.infinite||e>-1&&e<t.pageCount)&&t.$el.trigger(O.update,[e]),t.index=e,_(t)}}function w(t){t.$controls.removeClass(S.visible),t.$controlItems.removeClass(S.visible),t.$pagination.removeClass(S.visible)}function x(t){t.$controls.addClass(S.visible),t.$controlItems.addClass(S.visible),t.$pagination.addClass(S.visible)}function _(t){t.$paginationItems.removeClass(S.active).eq(t.index).addClass(S.active),t.infinite?t.$controlItems.addClass(S.visible):t.pageCount<1?t.$controlItems.removeClass(S.visible):(t.$controlItems.addClass(S.visible),t.index<=0?t.$controlPrevious.removeClass(S.visible):(t.index>=t.pageCount-1||!t.single&&t.leftPosition===t.maxMove)&&t.$controlNext.removeClass(S.visible))}function I(i){var n=1;if(i.single)return n;if("array"===t.type(i.show))for(var o in i.show)i.show.hasOwnProperty(o)&&(e.support.nativeMatchMedia?i.show[o].mq.matches&&(n=i.show[o].count):i.show[o].width<e.fallbackWidth&&(n=i.show[o].count));else n=i.show;return i.fill&&i.count<n?i.count:n}function H(t){var e=t.data;if(e.useMargin)e.leftPosition=parseInt(e.$canister.css("marginLeft"));else{var i=e.$canister.css(q).split(",");e.leftPosition=parseInt(i[4])}e.$canister.css(Y,"none"),C(t),e.isTouching=!0}function C(t){var e=t.data;e.touchLeft=E(e,e.leftPosition+t.deltaX),e.useMargin?e.$canister.css({marginLeft:e.touchLeft}):e.$canister.css(q,"translateX("+e.touchLeft+"px)")}function W(t){var e=t.data,i=M(e,t),n=t.deltaX>-50&&t.deltaX<50?e.index:e.index+i;T(e,n)}function z(t){var e=t.data,i=M(e,t),n=e.index+i;T(e,n)}function T(t,e){t.$canister.css(Y,""),b(t,e),t.isTouching=!1}function E(t,e){return isNaN(e)?e=0:t.rtl?(e>t.maxMove&&(e=t.maxMove),0>e&&(e=0)):(e<t.maxMove&&(e=t.maxMove),e>0&&(e=0)),e}function M(t,e){return t.rtl?"right"===e.directionX?1:-1:"left"===e.directionX?1:-1}var k=e.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous"},matchHeight:!1,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,show:1,single:!1,rtl:!1,useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{update:"update"},methods:{_construct:o,_destruct:r,_resize:i,disable:s,enable:a,jump:p,previous:h,next:f,reset:u,resize:l,update:d}}),P=k.classes,S=P.raw,O=k.events,L=k.functions,j=[],q=e.transform,Y=e.transition}(jQuery,Formstone),!function(t,e){"use strict";function i(){H.iterate.call(W,y)}function n(){W=t(x.base)}function o(e){e.youTubeGuid=0,e.$container=t('<div class="'+_.container+'"></div>').appendTo(this),this.addClass([_.base,e.customClass].join(" "));var i=e.source;e.source=null,s(e,i,!0),n()}function r(t){t.$container.remove(),this.removeClass([_.base,t.customClass].join(" ")).off(I.namespace),n()}function s(e,i,n){if(i!==e.source){if(e.source=i,e.responsive=!1,e.isYouTube=!1,"object"===t.type(i)&&"string"===t.type(i.video)){var o=i.video.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);o&&o.length>=1&&(e.isYouTube=!0,e.videoId=o[1])}var r=!e.isYouTube&&"object"===t.type(i)&&(i.hasOwnProperty("mp4")||i.hasOwnProperty("ogg")||i.hasOwnProperty("webm"));if(e.video=e.isYouTube||r,e.playing=!1,e.isYouTube)e.playerReady=!1,e.posterLoaded=!1,u(e,i,n);else if("object"===t.type(i)&&i.hasOwnProperty("poster"))c(e,i,n);else{var s=i;if("object"===t.type(i)){var d,p=[],h=[];for(d in i)i.hasOwnProperty(d)&&h.push(d);h.sort(H.sortAsc);for(d in h)h.hasOwnProperty(d)&&p.push({width:parseInt(h[d]),url:i[h[d]],mq:window.matchMedia("(min-width: "+parseInt(h[d])+"px)")});e.responsive=!0,e.sources=p,s=a(e)}l(e,s,!1,n)}}else e.$el.trigger(I.loaded)}function a(t){var i=t.source;if(t.responsive){i=t.sources[0].url;for(var n in t.sources)t.sources.hasOwnProperty(n)&&(e.support.nativeMatchMedia?t.sources[n].mq.matches&&(i=t.sources[n].url):t.sources[n].width<e.fallbackWidth&&(i=t.sources[n].url))}return i}function l(e,i,n,o){var r=[_.media,_.image,o!==!0?_.animated:""].join(" "),s=t('<div class="'+r+'"><img></div>'),a=s.find("img"),l=i;a.one(I.load,function(){z&&s.addClass(_["native"]).css({backgroundImage:"url('"+l+"')"}),s.fsTransition({property:"opacity"},function(){n||d(e)}).css({opacity:1}),v(e),(!n||o)&&e.$el.trigger(I.loaded)}).attr("src",l),e.responsive&&s.addClass(_.responsive),e.$container.append(s),(a[0].complete||4===a[0].readyState)&&a.trigger(I.load),e.currentSource=l}function c(i,n,o){if(i.source&&i.source.poster&&(l(i,i.source.poster,!0,!0),o=!1),!e.isMobile){var r=[_.media,_.video,o!==!0?_.animated:""].join(" "),s='<div class="'+r+'">';s+="<video",i.loop&&(s+=" loop"),i.mute&&(s+=" muted"),s+=">",i.source.webm&&(s+='<source src="'+i.source.webm+'" type="video/webm" />'),i.source.mp4&&(s+='<source src="'+i.source.mp4+'" type="video/mp4" />'),i.source.ogg&&(s+='<source src="'+i.source.ogg+'" type="video/ogg" />'),s+="</video>",s+="</div>";var a=t(s),c=a.find("video");c.one(I.loadedMetaData,function(){a.fsTransition({property:"opacity"},function(){d(i)}).css({opacity:1}),v(i),i.$el.trigger(I.loaded),i.autoPlay&&f(i)}),i.$container.append(a)}}function u(i,n,o){if(!i.videoId){var r=n.match(/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);i.videoId=r[1]}if(i.posterLoaded||(i.source.poster||(i.source.poster="http://img.youtube.com/vi/"+i.videoId+"/0.jpg"),i.posterLoaded=!0,l(i,i.source.poster,!0,o),o=!1),!e.isMobile)if(t("script[src*='youtube.com/iframe_api']").length||t("head").append('<script src="//www.youtube.com/iframe_api"></script>'),T){var s=i.guid+"_"+i.youTubeGuid++,a=[_.media,_.embed,o!==!0?_.animated:""].join(" "),c='<div class="'+a+'">';c+='<div id="'+s+'"></div>',c+="</div>";var u=t(c),p=t.extend(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:s,loop:i.loop?1:0,autoplay:1,origin:C.location.protocol+"//"+C.location.host},i.youtubeOptions);i.$container.append(u),i.player&&(i.oldPlayer=i.player,i.player=null),i.player=new C.YT.Player(s,{videoId:i.videoId,playerVars:p,events:{onReady:function(){i.playerReady=!0,i.mute&&i.player.mute(),i.autoPlay&&i.player.playVideo()},onStateChange:function(t){i.playing||t.data!==C.YT.PlayerState.PLAYING?i.loop&&i.playing&&t.data===C.YT.PlayerState.ENDED&&i.player.playVideo():(i.playing=!0,i.autoPlay||i.player.pauseVideo(),u.fsTransition({property:"opacity"},function(){d(i)}).css({opacity:1}),v(i),i.$el.trigger(I.loaded)),i.$el.find(x.embed).addClass(_.ready)},onPlaybackQualityChange:function(){},onPlaybackRateChange:function(){},onError:function(){},onApiChange:function(){}}}),v(i)}else E.push({data:i,source:n})}function d(t){var e=t.$container.find(x.media);e.length>=1&&(e.not(":last").remove(),t.oldPlayer=null)}function p(t){var e=t.$container.find(x.media);e.length>=1&&e.fsTransition({property:"opacity"},function(){e.remove(),delete t.source}).css({opacity:0})}function h(t){if(t.video){if(t.isYouTube&&t.playerReady)t.player.pauseVideo();else{var e=t.$container.find("video");e.length&&e[0].pause()}t.playing=!1}}function f(t){if(t.video){if(t.isYouTube&&t.playerReady)t.player.playVideo();else{var e=t.$container.find("video");e.length&&e[0].play()}t.playing=!0}}function g(t){if(t.video){if(t.isYouTube&&t.playerReady)t.player.mute();else{var e=t.$container.find("video");e.length&&(e[0].muted=!0)}t.playing=!0}}function m(t){if(t.video){if(t.isYouTube&&t.playerReady)t.player.unMute();else{var e=t.$container.find("video");e.length&&(e[0].muted=!1)}t.playing=!0}}function y(t){if(t.responsive){var e=a(t);e!==t.currentSource?l(t,e,!1,!0):v(t)}else v(t)}function v(t){for(var e=t.$container.find(x.media),i=0,n=e.length;n>i;i++){var o=e.eq(i),r=t.isYouTube?"iframe":o.find("video").length?"video":"img",s=o.find(r);if(s.length&&("img"!==r||!z)){var a=t.$el.outerWidth(),l=t.$el.outerHeight(),c=b(t,s);t.width=c.width,t.height=c.height,t.left=0,t.top=0;var u=t.isYouTube?t.embedRatio:t.width/t.height;t.height=l,t.width=t.height*u,t.width<a&&(t.width=a,t.height=t.width/u),t.left=-(t.width-a)/2,t.top=-(t.height-l)/2,o.css({height:t.height,width:t.width,left:t.left,top:t.top})}}}function b(e,i){if(e.isYouTube)return{height:500,width:500/e.embedRatio};if(i.is("img")){var n=i[0];if("undefined"!==t.type(n.naturalHeight))return{height:n.naturalHeight,width:n.naturalWidth};var o=new Image;return o.src=n.src,{height:o.height,width:o.width}}return{height:i[0].videoHeight,width:i[0].videoWidth}}var w=e.Plugin("background",{widget:!0,defaults:{autoPlay:!0,customClass:"",embedRatio:1.777777,loop:!0,mute:!0,source:null,youtubeOptions:{}},classes:["container","media","animated","responsive","native","fixed","ready"],events:{loaded:"loaded",ready:"ready",loadedMetaData:"loadedmetadata"},methods:{_construct:o,_destruct:r,_resize:i,play:f,pause:h,mute:g,unmute:m,resize:v,load:s,unload:p}}),x=w.classes,_=x.raw,I=w.events,H=w.functions,C=e.window,W=[],z="backgroundSize"in e.document.documentElement.style,T=!1,E=[];C.onYouTubeIframeAPIReady=function(){T=!0;for(var t in E)E.hasOwnProperty(t)&&u(E[t].data,E[t].source);E=[]}}(jQuery,Formstone),!function(t,e){"use strict";function i(){h.iterate.call(f,s)}function n(){f=t(d.element)}function o(e){e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.type="height"===e.property?"outerHeight":"outerWidth",e.target?t.isArray(e.target)||(e.target=[e.target]):e.target=["> *"],n(),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){l.call(e.$el,e)},leave:function(){a.call(e.$el,e)}})}function r(e){c(e),t.fsMediaquery("unbind",e.rawGuid),n()}function s(t){if(t.data&&(t=t.data),t.enabled)for(var e,i,n,o=0;o<t.target.length;o++){e=0,i=0,n=t.$el.find(t.target[o]),n.css(t.property,"");for(var r=0;r<n.length;r++)i=n.eq(r)[t.type](),i>e&&(e=i);n.css(t.property,e)}}function a(t){t.enabled&&(t.enabled=!1,c(t))}function l(t){if(!t.enabled){t.enabled=!0;var e=t.$el.find("img");e.length&&e.on(p.load,t,s),s(t)}}function c(t){for(var e=0;e<t.target.length;e++)t.$el.find(t.target[e]).css(t.property,"");t.$el.find("img").off(p.namespace)}var u=e.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:o,_destruct:r,_resize:i,resize:s}}),d=u.classes,p=(d.raw,u.events),h=u.functions,f=[]}(jQuery,Formstone),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function($){function t(t){if(t in u.style)return t;for(var e=["Moz","Webkit","O","ms"],i=t.charAt(0).toUpperCase()+t.substr(1),n=0;n<e.length;++n){var o=e[n]+i;if(o in u.style)return o}}function e(){return u.style[d.transform]="",u.style[d.transform]="rotateY(90deg)",""!==u.style[d.transform]}function i(t){return"string"==typeof t&&this.parse(t),this}function n(t,e,i){e===!0?t.queue(i):e?t.queue(e,i):t.each(function(){i.call(this)})}function o(t){var e=[];return $.each(t,function(t){t=$.camelCase(t),t=$.transit.propertyMap[t]||$.cssProps[t]||t,t=a(t),d[t]&&(t=a(d[t])),-1===$.inArray(t,e)&&e.push(t)}),e}function r(t,e,i,n){var r=o(t);$.cssEase[i]&&(i=$.cssEase[i]);var s=""+c(e)+" "+i;parseInt(n,10)>0&&(s+=" "+c(n));var a=[];return $.each(r,function(t,e){a.push(e+" "+s)}),a.join(", ")}function s(t,e){e||($.cssNumber[t]=!0),$.transit.propertyMap[t]=d.transform,$.cssHooks[t]={get:function(e){var i=$(e).css("transit:transform");return i.get(t)},set:function(e,i){var n=$(e).css("transit:transform");n.setFromString(t,i),$(e).css({"transit:transform":n})}}}function a(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function l(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function c(t){var e=t;return"string"!=typeof e||e.match(/^[\-0-9\.]+/)||(e=$.fx.speeds[e]||$.fx.speeds._default),l(e,"ms")}$.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),d={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;d.transition=t("transition"),d.transitionDelay=t("transitionDelay"),d.transform=t("transform"),d.transformOrigin=t("transformOrigin"),d.filter=t("Filter"),d.transform3d=e();var h={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},f=d.transitionEnd=h[d.transition]||null;for(var g in d)d.hasOwnProperty(g)&&"undefined"==typeof $.support[g]&&($.support[g]=d[g]);return u=null,$.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},$.cssHooks["transit:transform"]={get:function(t){return $(t).data("transform")||new i},set:function(t,e){var n=e;n instanceof i||(n=new i(n)),"WebkitTransform"!==d.transform||p?t.style[d.transform]=n.toString():t.style[d.transform]=n.toString(!0),$(t).data("transform",n)}},$.cssHooks.transform={set:$.cssHooks["transit:transform"].set},$.cssHooks.filter={get:function(t){return t.style[d.filter]},set:function(t,e){t.style[d.filter]=e}},$.fn.jquery<"1.8"&&($.cssHooks.transformOrigin={get:function(t){return t.style[d.transformOrigin]},set:function(t,e){t.style[d.transformOrigin]=e}},$.cssHooks.transition={get:function(t){return t.style[d.transition]},set:function(t,e){t.style[d.transition]=e}}),s("scale"),s("scaleX"),s("scaleY"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),i.prototype={setFromString:function(t,e){var n="string"==typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),i.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=l(t,"deg")},rotateX:function(t){this.rotateX=l(t,"deg")},rotateY:function(t){this.rotateY=l(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=l(t,"deg")},skewY:function(t){this.skewY=l(t,"deg")},perspective:function(t){this.perspective=l(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=l(t,"px")),null!==e&&void 0!==e&&(this._translateY=l(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;3>=e;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=l(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,i,n){e.setFromString(i,n)})},toString:function(t){var e=[];for(var i in this)if(this.hasOwnProperty(i)){if(!d.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(t&&"scale"===i?e.push(i+"3d("+this[i]+",1)"):t&&"translate"===i?e.push(i+"3d("+this[i]+",0)"):e.push(i+"("+this[i]+")"))}return e.join(" ")}},$.fn.transition=$.fn.transit=function(t,e,i,o){var s=this,a=0,l=!0,u=$.extend(!0,{},t);"function"==typeof e&&(o=e,e=void 0),"object"==typeof e&&(i=e.easing,a=e.delay||0,l="undefined"==typeof e.queue?!0:e.queue,o=e.complete,e=e.duration),"function"==typeof i&&(o=i,i=void 0),"undefined"!=typeof u.easing&&(i=u.easing,delete u.easing),"undefined"!=typeof u.duration&&(e=u.duration,delete u.duration),"undefined"!=typeof u.complete&&(o=u.complete,delete u.complete),"undefined"!=typeof u.queue&&(l=u.queue,delete u.queue),"undefined"!=typeof u.delay&&(a=u.delay,delete u.delay),"undefined"==typeof e&&(e=$.fx.speeds._default),"undefined"==typeof i&&(i=$.cssEase._default),e=c(e);var p=r(u,e,i,a),h=$.transit.enabled&&d.transition,g=h?parseInt(e,10)+parseInt(a,10):0;if(0===g){var m=function(t){s.css(u),o&&o.apply(s),t&&t()};return n(s,l,m),s}var y={},v=function(t){var e=!1,i=function(){e&&s.unbind(f,i),g>0&&s.each(function(){this.style[d.transition]=y[this]||null}),"function"==typeof o&&o.apply(s),"function"==typeof t&&t()};g>0&&f&&$.transit.useTransitionEnd?(e=!0,s.bind(f,i)):window.setTimeout(i,g),s.each(function(){g>0&&(this.style[d.transition]=p),$(this).css(u)})},b=function(t){this.offsetWidth,v(t)};return n(s,l,b),this},$.transit.getTransitionValue=r,$}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():t.Headhesive=e()}(this,function(){"use strict";var t=function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]="object"==typeof i[n]?t(e[n],i[n]):i[n]);return e},e=function(t,e){var i=Date.now||function(){return(new Date).getTime()},n,o,r,s=null,a=0,l=function(){a=i(),s=null,r=t.apply(n,o),n=o=null};return function(){var c=i(),u=e-(c-a);return n=this,o=arguments,0>=u?(clearTimeout(s),s=null,a=c,r=t.apply(n,o),n=o=null):s||(s=setTimeout(l,u)),r}},i=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;
},n=function(t,e){for(var i=0,n=t.offsetHeight;t;)i+=t.offsetTop,t=t.offsetParent;return"bottom"===e&&(i+=n),i},o=function(e,i){"querySelector"in document&&"addEventListener"in window&&(this.visible=!1,this.options={offset:300,offsetSide:"top",classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof e?document.querySelector(e):e,this.options=t(this.options,i),this.init())};return o.prototype={constructor:o,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,document.body.insertBefore(this.clonedElem,document.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this._setScrollOffset()}this._throttleUpdate=e(this.update.bind(this),this.options.throttle),this._throttleScrollOffset=e(this._setScrollOffset.bind(this),this.options.throttle),window.addEventListener("scroll",this._throttleUpdate,!1),window.addEventListener("resize",this._throttleScrollOffset,!1),this.options.onInit.call(this)},_setScrollOffset:function(){"string"==typeof this.options.offset&&(this.scrollOffset=n(document.querySelector(this.options.offset),this.options.offsetSide))},destroy:function(){document.body.removeChild(this.clonedElem),window.removeEventListener("scroll",this._throttleUpdate),window.removeEventListener("resize",this._throttleScrollOffset),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){i()>this.scrollOffset?this.stick():this.unstick()}},o}),function(t){function e(){}function i($){function t(t){t.prototype.option||(t.prototype.option=function(t){$.isPlainObject(t)&&(this.options=$.extend(!0,this.options,t))})}function i(t,e){$.fn[t]=function(i){if("string"==typeof i){for(var r=n.call(arguments,1),s=0,a=this.length;a>s;s++){var l=this[s],c=$.data(l,t);if(c)if($.isFunction(c[i])&&"_"!==i.charAt(0)){var u=c[i].apply(c,r);if(void 0!==u)return u}else o("no such method '"+i+"' for "+t+" instance");else o("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var n=$.data(this,t);n?(n.option(i),n._init()):(n=new e(this,i),$.data(this,t,n))})}}if($){var o="undefined"==typeof console?e:function(t){console.error(t)};return $.bridget=function(e,n){t(n),i(e,n)},$.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function e(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function s(t){var e=this._getEvents(),i,n;if(t instanceof RegExp){i={};for(n in e)e.hasOwnProperty(n)&&t.test(n)&&(i[n]=e[n])}else i=e[t]||(e[t]=[]);return i},n.flattenListeners=function a(t){var e=[],i;for(i=0;i<t.length;i+=1)e.push(t[i].listener);return e},n.getListenersAsObject=function l(t){var e=this.getListeners(t),i;return e instanceof Array&&(i={},i[t]=e),i||e},n.addListener=function c(t,i){var n=this.getListenersAsObject(t),o="object"==typeof i,r;for(r in n)n.hasOwnProperty(r)&&-1===e(n[r],i)&&n[r].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function u(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function d(t){return this.getListeners(t),this},n.defineEvents=function p(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function h(t,i){var n=this.getListenersAsObject(t),o,r;for(r in n)n.hasOwnProperty(r)&&(o=e(n[r],i),-1!==o&&n[r].splice(o,1));return this},n.off=i("removeListener"),n.addListeners=function f(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function g(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function m(t,e,i){var n,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},n.removeEvent=function y(t){var e=typeof t,i=this._getEvents(),n;if("string"===e)delete i[t];else if(t instanceof RegExp)for(n in i)i.hasOwnProperty(n)&&t.test(n)&&delete i[n];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function v(t,e){var i=this.getListenersAsObject(t),n,o,r,s;for(r in i)if(i.hasOwnProperty(r))for(o=i[r].length;o--;)n=i[r][o],n.once===!0&&this.removeListener(t,n.listener),s=n.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},n.trigger=i("emitEvent"),n.emit=function b(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function w(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function x(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function _(){return this._events||(this._events={})},t.noConflict=function I(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;r>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function i(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function n(){}function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=a.length;i>e;e++){var n=a[e];t[n]=0}return t}function r(e){function n(){if(!c){c=!0;var n=t.getComputedStyle;if(u=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function e(i){var n=t(i);return n||s("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),d=e("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[d]="border-box";var r=document.body||document.documentElement;r.appendChild(o);var a=u(o);p=200===i(a.width),r.removeChild(o)}}}function r(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=u(t);if("none"===e.display)return o();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var s=r.isBorderBox=!(!d||!e[d]||"border-box"!==e[d]),c=0,h=a.length;h>c;c++){var f=a[c],g=e[f];g=l(t,g);var m=parseFloat(g);r[f]=isNaN(m)?0:m}var y=r.paddingLeft+r.paddingRight,v=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,w=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,_=r.borderTopWidth+r.borderBottomWidth,I=s&&p,H=i(e.width);H!==!1&&(r.width=H+(I?0:y+x));var C=i(e.height);return C!==!1&&(r.height=C+(I?0:v+_)),r.innerWidth=r.width-(y+x),r.innerHeight=r.height-(v+_),r.outerWidth=r.width+b,r.outerHeight=r.height+w,r}}function l(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,s&&(r.left=s),i}var c=!1,u,d,p;return r}var s="undefined"==typeof console?n:function(t){console.error(t)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):t.getSize=r(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=s.length;i>t;t++){var n=s[t];n()}}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[r](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1}function o(t,n){return i(t),e(t,n)}var r=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var o=e[i],r=o+"MatchesSelector";if(t[r])return r}}(),s;if(r){var a=document.createElement("div"),l=e(a,"div");s=l?e:o}else s=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):"object"==typeof exports?module.exports=s:window.matchesSelector=s}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function t(e,i,n){var o={};o.extend=function(t,e){for(var i in e)t[i]=e[i];return t},o.modulo=function(t,e){return(t%e+e)%e};var r=Object.prototype.toString;o.isArray=function(t){return"[object Array]"==r.call(t)},o.makeArray=function(t){var e=[];if(o.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},o.removeFrom=function(t,e){var i=o.indexOf(t,e);-1!=i&&t.splice(i,1)},o.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function a(t){return t instanceof HTMLElement}:function l(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},o.setText=function(){function t(t,i){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=i}var e;return t}(),o.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},o.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},o.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.filterFindElements=function(t,e){t=o.makeArray(t);for(var i=[],r=0,s=t.length;s>r;r++){var a=t[r];if(o.isElement(a))if(e){n(a,e)&&i.push(a);for(var l=a.querySelectorAll(e),c=0,u=l.length;u>c;c++)i.push(l[c])}else i.push(a)}return i},o.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},o.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var s=e.console;return o.htmlInit=function(t,n){i(function(){for(var i=o.toDashed(n),r=document.querySelectorAll(".js-"+i),a="data-"+i+"-options",l=0,c=r.length;c>l;l++){var u=r[l],d=u.getAttribute(a),p;try{p=d&&JSON.parse(d)}catch(h){s&&s.error("Error parsing "+a+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+h);continue}var f=new t(u,p),g=e.jQuery;g&&g.data(u,n,f)}})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,function e(t,i,n,o,r){"use strict";function s(t){for(var e in t)return!1;return e=null,!0}function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function l(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var c=t.getComputedStyle,u=c?function(t){return c(t,null)}:function(t){return t.currentStyle},d=o("transition"),p=o("transform"),h=d&&p,f=!!o("perspective"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[d],m=["transform","transition","transitionDuration","transitionProperty"],y=function(){for(var t={},e=0,i=m.length;i>e;e++){var n=m[e],r=o(n);r&&r!==n&&(t[n]=r)}return t}();r.extend(a.prototype,i.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=y[i]||i;e[n]=t[i]}},a.prototype.getPosition=function(){var t=u(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=t[i?"left":"right"],r=t[n?"top":"bottom"],s=this.layout.size,a=-1!=o.indexOf("%")?parseFloat(o)/100*s.width:parseInt(o,10),l=-1!=r.indexOf("%")?parseFloat(r)/100*s.height:parseInt(r,10);a=isNaN(a)?0:a,l=isNaN(l)?0:l,a-=i?s.paddingLeft:s.paddingRight,l-=n?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=l},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",o=e.isOriginLeft?"left":"right",r=e.isOriginLeft?"right":"left",s=this.position.x+t[n];i[o]=this.getXValue(s),i[r]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",c=e.isOriginTop?"bottom":"top",u=this.position.y+t[a];i[l]=this.getYValue(u),i[c]="",this.css(i),this.emitEvent("layout",[this])},a.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},a.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,f?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=h?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var v="opacity,"+l(y.transform||"transform");a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(g,this,!1))},a.prototype.transition=a.prototype[d?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var b={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=b[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],s(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var n=e.onEnd[i];n.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(g,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var w={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(w)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!d||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.once("transitionEnd",function(){t.removeElem()}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},a.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},a.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r,s){return e(t,i,n,o,r,s)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function i(t,e,n,o,r,s){"use strict";function a(t,e){var i=r.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,c&&(this.$element=c(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e);var n=++d;this.element.outlayerGUID=n,p[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var l=t.console,c=t.jQuery,u=function(){},d=0,p={};return a.namespace="outlayer",a.Item=s,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(a.prototype,n.prototype),a.prototype.option=function(t){r.extend(this.options,t)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,r=e.length;r>o;o++){var s=e[o],a=new i(s,this);n.push(a)}return n},a.prototype._filterFindItemElements=function(t){return r.filterFindElements(t,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype._getMeasurement=function(t,e){var i=this.options[t],n;i?("string"==typeof i?n=this.element.querySelector(i):r.isElement(i)&&(n=i),this[t]=n?o(n)[e]:i):this[t]=0},a.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},a.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];o.isIgnored||e.push(o)}return e},a.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,o=t.length;o>n;n++){var r=t[n],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=e||r.isLayoutInstant,i.push(s)}this._processLayoutQueue(i)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},a.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},a.prototype._getContainerSize=u,a.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},a.prototype._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s===r&&i()}var o=this,r=e.length;if(!e||!r)return void i();for(var s=0,a=0,l=e.length;l>a;a++){var c=e[a];c.once(t,n)}},a.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},a.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},a.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},a.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},a.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];r.removeFrom(this.stamps,n),this.unignore(n)}},a.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=r.makeArray(t)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},a.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},a.prototype._manageStamp=u,a.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=o(t),r={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return r},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var t=o(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},a.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},a.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},a.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.reveal()}},a.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.hide()}},a.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},a.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},a.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},a.prototype.getItems=function(t){t=r.makeArray(t);for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s=this.getItem(o);s&&e.push(s)}return e},a.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;n>i;i++){var o=e[i];o.remove(),r.removeFrom(this.items,o)}},a.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize();var o=this.element.outlayerGUID;delete p[o],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},a.data=function(t){t=r.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&p[e]},a.create=function(t,e){function i(){a.apply(this,arguments)}return Object.create?i.prototype=Object.create(a.prototype):r.extend(i.prototype,a.prototype),i.prototype.constructor=i,i.defaults=r.extend({},a.defaults),r.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=a.data,i.Item=function n(){s.apply(this,arguments)},i.Item.prototype=new s,r.htmlInit(i,t),c&&c.bridget&&c.bridget(t,i),i},a.Item=s,a}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function n(t){"use strict";function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function o(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],o=0,r=n.length;r>o;o++){var s=n[o];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=new i,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,function r(t,e,i){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){
if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",o=Math[n](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=i.indexOf(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-r.length,d=0;u>d;d++)this.colYs[a+d]=c;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,r=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function s(t,e){"use strict";function i(t,e){for(var i in e)t[i]=e[i];return t}var n=t.create("masonry"),o=n.prototype._getElementOffset,r=n.prototype.layout,s=n.prototype._getMeasurement;i(n.prototype,e.prototype),n.prototype._getElementOffset=o,n.prototype.layout=r,n.prototype._getMeasurement=s;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function a(t){"use strict";var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function l(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,r,s,a){return e(t,i,n,o,r,s,a)}):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function c(t,e,i,n,o,r,s){function a(t,e){return function i(n,o){for(var r=0,s=t.length;s>r;r++){var a=t[r],l=n.sortData[a],c=o.sortData[a];if(l>c||c>l){var u=void 0!==e[a]?e[a]:e,d=u?1:-1;return(l>c?1:-1)*d}}return 0}}var l=t.jQuery,c=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement,d=u.textContent?function(t){return t.textContent}:function(t){return t.innerText},p=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});p.Item=r,p.LayoutMode=s,p.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in s.modes)this._initLayoutMode(t)},p.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},p.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0,n=t.length;n>i;i++){var o=t[i];o.id=this.itemGUID++}return this._updateItemsSortData(t),t},p.prototype._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},p.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},p.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},p.prototype.arrange=function(t){function e(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(t),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},p.prototype._init=p.prototype.arrange,p.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},p.prototype._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},p.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),s=0,a=t.length;a>s;s++){var l=t[s];if(!l.isIgnored){var c=r(l);c&&i.push(l),c&&l.isHidden?n.push(l):c||l.isHidden||o.push(l)}}return{matches:i,needReveal:n,needHide:o}},p.prototype._getFilterTest=function(t){return l&&this.options.isJQueryFiltering?function(e){return l(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},p.prototype.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},p.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=h(i)}},p.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var h=function(){function t(t){if("string"!=typeof t)return t;var i=c(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),r=o&&o[1],s=e(r,n),a=p.sortDataParsers[i[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&d(i)}}return t}();p.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},p.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},p.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},p.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},p.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},p.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},p.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},p.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},p.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},p.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},p.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},p.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var f=p.prototype.remove;return p.prototype.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);f.call(this,t);var i=e&&e.length;if(i)for(var n=0;i>n;n++){var r=e[n];o.removeFrom(this.filteredItems,r)}},p.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},p.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},p.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},p});